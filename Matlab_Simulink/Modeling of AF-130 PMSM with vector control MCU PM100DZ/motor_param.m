clc;clear;
 Ts = 1e-4;
 stator_phase_resistance = 0.049039279360294;
armature_inductance = 6.3165e-04;
flux_linkage = 0.17216;
%snubber_resistance = 10e3;
%snubbercapacitance = inf;
Pole_pairs = 3;
induced_flux  = 0.17197;
currenthysteresisband = 0.1;
Snubberresisrance=10e3;
Ron=7.8265e-06;
Vf=1.2;
Vfd=1.2;
Inrt = 2.500893701670255e-04;
Damp = 4.1785e-04;
battery_Voltage = 390.4254;
freq = 60;
ld = 8.5e-3;
lq = 8.5e-3;
resistance=0.11607;
fluxByMagnet = 0.17491;
Inductance = [8.5e-3,8.5e-3];
Damperr = 0.001;
temp_amb = 27+273;
coolant_cp = 200.07;
coolant_mass = 2.2147;
hac = 9.2743;
hcm = 35.286;
htArea = 0.2;
motor_cp = 12.5;
radiator_area = 2.3951;
motor_mass = 30;

time_test =csvread('EMachine_Test_Data.csv',1,0,[1,0,1048575,0]);
time_test = time_test -time_test(1);
trq_feed = csvread('EMachine_Test_Data.csv',1,4,[1,4,1048575,4]);
trq_command = csvread('EMachine_Test_Data.csv',1,3,[1,3,1048575,3]);
spd_command =csvread('EMachine_Test_Data.csv',1,7,[1,7,1048575,7]);
temp_feed =csvread('EMachine_Test_Data.csv',1,6,[1,6,1048575,6]);
inverterEnable =csvread('EMachine_Test_Data.csv',1,2,[1,2,1048575,2]);
RCR = 1;
RCC = 1e-6;

%%
mcu.plant.init.trq_uprate               = 1670;  %Nm/sec
mcu.plant.init.trq_derate               = -1670;  %Nm/sec

mot.plant.init.time_response	= 0.05; 
mot.plant.init.t_max_trq        = 301.9; % Time the motor can remain at max torque - estimated 
mot.plant.init.inertia 			= 0.025;% kg-m^2 
mot.plant.init.mass.motor       = 30; %kg
mot.plant.init.specific_heat    = 200; %J/kg/K

mot.plant.init.trq_posmax = 350; %Nm
mot.plant.init.trq_negmax = -350;%Nm
mot.plant.init.motor.trq_max.idx1_spd       = [0:200:8000];% RPM

mot.plant.init.motor.trq_max.map            = [350 347.4 346.8 346.8 346.8 346.7 346.6 346.5 346.5 346.4 346.3 346.2 346.2 346.1 346 345.9 343.1 336.7 327.7 318.1 307.2 295.2 283.1 271.4 260.7 250.2 240.5 232.2 223.7 216 208.8 201.3 195.2 189.6 184.6 178.3 173.2 168.3 163.4 159.3 155.1];  % N-m - overtorque ratio is estimated
mot.plant.init.motor.trq_max.points.trq  = max(mot.plant.init.motor.trq_max.map);

mot.plant.init.motor.trq_cont.idx1_spd      = mot.plant.init.motor.trq_max.idx1_spd;% RPM
mot.plant.init.motor.trq_cont.map        = [143.7 141.3 141.3 140.7 140 139.4 139 138.6 138.2 137.8 137.5 136.9 136.1 135.4 134.8 134.1 133.7 133.4 132.9 131.7 130.5 129.6 128.8 127.3 124.1 120.6 117 112.6 107.3 102.1 96.82 91.01 85.55 80.57 74.92 69.01 62.45 56.09 49.85 42.76 34.92];% N-m - overtorque ratio is estimated

mot.plant.init.regen.trq_max.idx1_spd       = mot.plant.init.motor.trq_max.idx1_spd;% RPM
mot.plant.init.regen.trq_max.map         = -mot.plant.init.motor.trq_max.map;  % N-m - overtorque ratio is estimated

mot.plant.init.regen.trq_cont.idx1_spd      = mot.plant.init.motor.trq_max.idx1_spd;% RPM
mot.plant.init.regen.trq_cont.map        = -mot.plant.init.motor.trq_cont.map;% N-m - overtorque ratio is estimated

mot.plant.init.eff_trq.idx1_spd       = [0:160:8000];
mot.plant.init.eff_trq.idx2_trq       = [0:7:350];
mot.plant.init.eff_trq.map = [40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	40.4	57.4	66.7	72.6	76.7	79.7	82.0	83.8	85.2	86.4	87.4	88.3	89.0	89.6	90.2	90.7	91.1	91.5	91.8	92.1	92.3	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	40.8	57.8	67.2	73.0	77.1	80.0	82.3	84.0	85.5	86.6	87.6	88.4	89.2	89.8	90.3	90.8	91.2	91.6	92.0	92.2	92.4	92.5	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	41.4	58.3	67.6	73.4	77.4	80.3	82.5	84.3	85.7	86.8	87.8	88.6	89.3	89.9	90.5	90.9	91.4	91.7	92.1	92.4	92.6	92.6	92.6	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	41.9	58.9	68.1	73.8	77.8	80.6	82.8	84.5	85.9	87.1	88.0	88.8	89.5	90.1	90.6	91.1	91.5	91.9	92.2	92.5	92.7	92.8	92.8	92.7	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	42.4	59.4	68.5	74.2	78.1	81.0	83.1	84.8	86.2	87.3	88.2	89.0	89.7	90.2	90.8	91.2	91.6	92.0	92.3	92.6	92.8	92.9	92.9	92.9	92.7	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	42.9	59.9	69.0	74.6	78.5	81.3	83.4	85.0	86.4	87.5	88.4	89.2	89.8	90.4	90.9	91.3	91.7	92.1	92.4	92.7	92.9	93.1	93.1	93.1	93.0	92.8	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	43.5	60.4	69.4	75.0	78.8	81.6	83.7	85.3	86.6	87.7	88.6	89.3	90.0	90.6	91.0	91.5	91.9	92.2	92.5	92.8	93.0	93.2	93.2	93.2	93.1	93.0	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	44.1	61.0	69.9	75.4	79.2	81.9	84.0	85.6	86.8	87.9	88.8	89.5	90.2	90.7	91.2	91.6	92.0	92.3	92.6	92.9	93.1	93.3	93.4	93.4	93.3	93.2	93.0	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	44.6	61.5	70.4	75.9	79.6	82.2	84.2	85.8	87.1	88.1	89.0	89.7	90.3	90.9	91.3	91.7	92.1	92.4	92.7	93.0	93.2	93.4	93.5	93.5	93.5	93.4	93.2	93.1	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	45.2	62.1	70.9	76.3	79.9	82.5	84.5	86.1	87.3	88.3	89.2	89.9	90.5	91.0	91.5	91.9	92.2	92.6	92.8	93.1	93.3	93.5	93.6	93.7	93.6	93.6	93.4	93.3	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	45.9	62.7	71.4	76.7	80.3	82.9	84.8	86.3	87.5	88.5	89.4	90.1	90.7	91.2	91.6	92.0	92.4	92.7	92.9	93.2	93.4	93.6	93.7	93.8	93.8	93.7	93.6	93.5	93.3	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	46.5	63.2	71.9	77.1	80.7	83.2	85.1	86.6	87.8	88.7	89.6	90.2	90.8	91.3	91.8	92.1	92.5	92.8	93.1	93.3	93.5	93.7	93.9	93.9	93.9	93.9	93.8	93.7	93.5	93.3	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	47.2	63.8	72.4	77.6	81.0	83.5	85.4	86.8	88.0	89.0	89.7	90.4	91.0	91.5	91.9	92.3	92.6	92.9	93.2	93.4	93.6	93.8	93.9	94.0	94.0	94.0	93.9	93.8	93.7	93.5	93.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	47.8	64.4	72.9	78.0	81.4	83.8	85.7	87.1	88.2	89.2	89.9	90.6	91.1	91.6	92.0	92.4	92.7	93.0	93.3	93.5	93.7	93.9	94.0	94.1	94.1	94.1	94.1	94.0	93.9	93.7	93.6	93.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	48.5	65.1	73.4	78.4	81.8	84.2	86.0	87.4	88.5	89.4	90.1	90.8	91.3	91.8	92.2	92.5	92.8	93.1	93.4	93.6	93.8	94.0	94.1	94.2	94.3	94.2	94.2	94.1	94.0	93.9	93.8	93.6	93.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	49.2	65.7	73.9	78.9	82.2	84.5	86.3	87.6	88.7	89.6	90.3	90.9	91.5	91.9	92.3	92.6	92.9	93.2	93.5	93.7	93.9	94.0	94.2	94.3	94.4	94.4	94.3	94.2	94.2	94.1	93.9	93.8	93.6	93.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	49.9	66.3	74.5	79.3	82.5	84.8	86.5	87.9	88.9	89.8	90.5	91.1	91.6	92.0	92.4	92.8	93.1	93.3	93.6	93.8	94.0	94.1	94.3	94.4	94.4	94.5	94.4	94.4	94.3	94.2	94.1	93.9	93.8	93.6	93.5	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	50.7	67.0	75.0	79.8	82.9	85.2	86.8	88.1	89.2	90.0	90.7	91.3	91.8	92.2	92.6	92.9	93.2	93.4	93.6	93.8	94.0	94.2	94.3	94.5	94.5	94.5	94.5	94.5	94.4	94.3	94.2	94.1	94.0	93.8	93.7	93.5	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	51.5	67.6	75.5	80.2	83.3	85.5	87.1	88.4	89.4	90.2	90.9	91.4	91.9	92.3	92.7	93.0	93.3	93.5	93.7	93.9	94.1	94.3	94.4	94.5	94.6	94.6	94.6	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.8	93.7	93.5	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	52.3	68.3	76.1	80.7	83.7	85.8	87.4	88.6	89.6	90.4	91.1	91.6	92.1	92.5	92.8	93.1	93.4	93.6	93.8	94.0	94.2	94.3	94.5	94.6	94.7	94.7	94.7	94.7	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.8	93.7	93.5	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	53.1	69.0	76.6	81.1	84.1	86.2	87.7	88.9	89.8	90.6	91.2	91.8	92.2	92.6	92.9	93.2	93.5	93.7	93.9	94.1	94.3	94.4	94.5	94.6	94.7	94.8	94.8	94.7	94.7	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.9	93.7	93.6	93.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	53.9	69.7	77.2	81.6	84.5	86.5	88.0	89.1	90.1	90.8	91.4	91.9	92.4	92.7	93.1	93.3	93.6	93.8	94.0	94.2	94.3	94.5	94.6	94.7	94.8	94.8	94.8	94.8	94.8	94.7	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.9	93.7	93.6	93.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	54.8	70.4	77.8	82.1	84.9	86.8	88.3	89.4	90.3	91.0	91.6	92.1	92.5	92.9	93.2	93.4	93.7	93.9	94.1	94.2	94.4	94.5	94.6	94.7	94.8	94.9	94.9	94.9	94.8	94.8	94.7	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.8	93.7	93.6	93.5	93.3	40.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	55.7	71.1	78.3	82.5	85.2	87.1	88.6	89.6	90.5	91.2	91.8	92.2	92.6	93.0	93.3	93.5	93.8	94.0	94.1	94.3	94.4	94.6	94.7	94.8	94.9	94.9	94.9	94.9	94.9	94.8	94.7	94.6	94.6	94.5	94.4	94.3	94.2	94.1	93.9	93.8	93.7	93.6	93.5	93.4	40.4	40.4	40.4	40.4	40.4	40.4
                              40.4	56.6	71.8	78.9	83.0	85.6	87.5	88.8	89.9	90.7	91.4	91.9	92.4	92.8	93.1	93.4	93.6	93.9	94.0	94.2	94.4	94.5	94.6	94.7	94.8	94.9	95.0	95.0	95.0	94.9	94.9	94.8	94.7	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.9	93.8	93.7	93.6	93.5	93.4	93.2	40.4	40.4	40.4	40.4
                              40.4	57.6	72.6	79.5	83.5	86.0	87.8	89.1	90.1	90.9	91.6	92.1	92.5	92.9	93.2	93.5	93.7	93.9	94.1	94.3	94.4	94.5	94.6	94.7	94.8	94.9	95.0	95.0	95.0	94.9	94.9	94.8	94.7	94.6	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.9	93.8	93.7	93.6	93.5	93.4	93.3	93.1	40.4	40.4
                              40.4	58.6	73.3	80.1	83.9	86.4	88.1	89.4	90.4	91.1	91.7	92.2	92.7	93.0	93.3	93.6	93.8	94.0	94.2	94.3	94.5	94.6	94.7	94.8	94.9	94.9	95.0	95.0	95.0	95.0	94.9	94.8	94.8	94.7	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.9	93.8	93.7	93.6	93.5	93.4	93.3	93.2	93.1	93.0
                              40.4	59.6	74.1	80.7	84.4	86.8	88.4	89.7	90.6	91.3	91.9	92.4	92.8	93.1	93.4	93.7	93.9	94.1	94.2	94.4	94.5	94.6	94.7	94.8	94.9	94.9	95.0	95.0	95.0	95.0	94.9	94.9	94.8	94.7	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.9	93.8	93.7	93.7	93.6	93.5	93.4	93.3	93.2	93.1
                              40.4	60.6	74.9	81.3	84.9	87.2	88.8	89.9	90.8	91.5	92.1	92.5	92.9	93.2	93.5	93.7	93.9	94.1	94.3	94.4	94.5	94.6	94.7	94.8	94.9	94.9	95.0	95.0	95.0	95.0	94.9	94.9	94.8	94.7	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.9	93.8	93.7	93.6	93.6	93.5	93.4	93.3	93.2	93.1
                              40.4	61.7	75.7	81.9	85.3	87.5	89.1	90.2	91.0	91.7	92.2	92.7	93.0	93.3	93.6	93.8	94.0	94.2	94.3	94.4	94.5	94.6	94.7	94.8	94.9	94.9	95.0	95.0	95.0	95.0	94.9	94.8	94.7	94.7	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.9	93.8	93.7	93.6	93.5	93.4	93.4	93.3	93.2	93.1
                              40.4	62.8	76.5	82.5	85.8	87.9	89.4	90.4	91.3	91.9	92.4	92.8	93.1	93.4	93.7	93.9	94.0	94.2	94.3	94.4	94.5	94.6	94.7	94.8	94.8	94.9	94.9	95.0	95.0	94.9	94.9	94.8	94.7	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.9	93.8	93.7	93.6	93.6	93.5	93.4	93.3	93.2	93.2	93.1
                              40.4	64.0	77.3	83.1	86.3	88.3	89.7	90.7	91.5	92.1	92.5	92.9	93.2	93.5	93.7	93.9	94.1	94.2	94.3	94.4	94.5	94.6	94.7	94.7	94.8	94.8	94.9	94.9	94.9	94.9	94.8	94.7	94.7	94.6	94.5	94.4	94.3	94.1	94.0	93.9	93.8	93.7	93.7	93.6	93.5	93.4	93.3	93.2	93.1	93.1	93.0
                              40.4	65.2	78.1	83.7	86.7	88.6	90.0	90.9	91.6	92.2	92.7	93.0	93.3	93.6	93.8	93.9	94.1	94.2	94.3	94.4	94.5	94.6	94.6	94.7	94.7	94.8	94.8	94.8	94.8	94.8	94.7	94.7	94.6	94.5	94.4	94.3	94.2	94.0	93.9	93.8	93.7	93.6	93.5	93.4	93.4	93.3	93.2	93.1	93.0	92.9	92.9
                              40.4	66.4	79.0	84.3	87.2	89.0	90.2	91.1	91.8	92.3	92.8	93.1	93.4	93.6	93.8	94.0	94.1	94.2	94.3	94.4	94.5	94.5	94.6	94.6	94.7	94.7	94.7	94.7	94.7	94.7	94.6	94.6	94.5	94.4	94.3	94.1	94.0	93.9	93.8	93.7	93.6	93.5	93.4	93.3	93.2	93.1	93.0	92.9	92.8	92.8	92.7
                              40.4	67.7	79.8	84.8	87.6	89.3	90.5	91.3	92.0	92.5	92.8	93.2	93.4	93.6	93.8	93.9	94.1	94.2	94.3	94.3	94.4	94.4	94.5	94.5	94.6	94.6	94.6	94.6	94.6	94.6	94.5	94.4	94.3	94.2	94.1	94.0	93.9	93.8	93.6	93.5	93.4	93.3	93.2	93.1	93.0	92.9	92.8	92.7	92.6	92.6	92.5
                              40.4	69.0	80.6	85.4	88.0	89.6	90.7	91.5	92.1	92.6	92.9	93.2	93.4	93.6	93.8	93.9	94.0	94.1	94.2	94.2	94.3	94.3	94.4	94.4	94.4	94.4	94.4	94.5	94.5	94.4	94.4	94.3	94.2	94.1	93.9	93.8	93.7	93.6	93.4	93.3	93.2	93.1	93.0	92.9	92.8	92.7	92.6	92.5	92.4	92.3	92.2
                              40.4	70.3	81.5	86.0	88.4	89.9	90.9	91.7	92.2	92.6	92.9	93.2	93.4	93.6	93.7	93.8	93.9	94.0	94.1	94.1	94.2	94.2	94.2	94.2	94.2	94.3	94.3	94.3	94.3	94.2	94.2	94.1	94.0	93.8	93.7	93.6	93.4	93.3	93.2	93.0	92.9	92.8	92.7	92.6	92.5	92.3	92.2	92.1	92.1	92.0	91.9
                              40.4	71.7	82.3	86.5	88.8	90.2	91.1	91.8	92.3	92.6	92.9	93.2	93.4	93.5	93.6	93.7	93.8	93.9	93.9	93.9	94.0	94.0	94.0	94.0	94.0	94.0	94.0	94.0	94.0	94.0	93.9	93.8	93.7	93.6	93.4	93.3	93.1	93.0	92.9	92.7	92.6	92.5	92.3	92.2	92.1	92.0	91.9	91.8	91.7	91.6	91.5
                              40.4	73.1	83.1	87.0	89.1	90.4	91.2	91.8	92.3	92.6	92.9	93.1	93.2	93.4	93.5	93.6	93.6	93.7	93.7	93.7	93.7	93.8	93.8	93.8	93.7	93.7	93.7	93.7	93.7	93.7	93.6	93.5	93.4	93.2	93.1	92.9	92.8	92.6	92.5	92.3	92.2	92.0	91.9	91.8	91.6	91.5	91.4	91.3	91.2	91.1	91.0
                              40.4	74.6	83.9	87.5	89.4	90.6	91.3	91.9	92.3	92.5	92.8	92.9	93.1	93.2	93.3	93.3	93.4	93.4	93.4	93.4	93.4	93.4	93.4	93.4	93.4	93.4	93.4	93.3	93.3	93.3	93.2	93.1	92.9	92.8	92.6	92.5	92.3	92.1	92.0	91.8	91.7	91.5	91.4	91.2	91.1	90.9	90.8	90.7	90.6	90.5	90.4
                              40.4	76.0	84.6	87.9	89.6	90.6	91.3	91.8	92.1	92.4	92.6	92.7	92.8	92.9	93.0	93.0	93.0	93.0	93.0	93.0	93.0	93.0	93.0	93.0	92.9	92.9	92.9	92.8	92.8	92.8	92.7	92.6	92.4	92.3	92.1	91.9	91.7	91.5	91.4	91.2	91.0	90.8	90.7	90.5	90.4	90.2	90.1	90.0	89.8	89.7	89.6
                              40.4	77.4	85.3	88.2	89.7	90.6	91.2	91.6	91.9	92.1	92.3	92.4	92.4	92.5	92.5	92.6	92.6	92.6	92.6	92.5	92.5	92.5	92.4	92.4	92.4	92.3	92.3	92.2	92.2	92.1	92.0	91.9	91.7	91.6	91.4	91.2	91.0	90.8	90.6	90.4	90.2	90.0	89.8	89.7	89.5	89.3	89.2	89.0	88.9	88.8	88.6
                              40.4	78.8	85.8	88.4	89.7	90.5	91.0	91.3	91.5	91.7	91.8	91.9	91.9	91.9	91.9	91.9	91.9	91.9	91.9	91.8	91.8	91.8	91.7	91.7	91.6	91.5	91.5	91.4	91.4	91.3	91.2	91.0	90.9	90.7	90.4	90.2	90.0	89.8	89.6	89.3	89.1	88.9	88.7	88.5	88.4	88.2	88.0	87.9	87.7	87.6	87.4
                              40.4	80.1	86.2	88.4	89.5	90.1	90.5	90.8	90.9	91.0	91.1	91.1	91.1	91.1	91.1	91.1	91.0	91.0	91.0	90.9	90.8	90.8	90.7	90.6	90.6	90.5	90.4	90.3	90.2	90.2	90.1	89.9	89.7	89.5	89.2	89.0	88.7	88.5	88.2	88.0	87.7	87.5	87.3	87.1	86.9	86.7	86.5	86.3	86.1	86.0	85.8
                              40.4	81.1	86.3	88.1	88.9	89.4	89.7	89.9	90.0	90.0	90.0	90.0	90.0	90.0	89.9	89.8	89.8	89.7	89.6	89.5	89.5	89.4	89.3	89.2	89.1	89.0	88.9	88.8	88.7	88.6	88.5	88.3	88.1	87.8	87.5	87.2	86.9	86.7	86.4	86.1	85.8	85.6	85.3	85.1	84.8	84.6	84.4	84.2	84.0	83.8	83.6
                              40.4	81.7	85.8	87.2	87.8	88.1	88.3	88.4	88.4	88.4	88.4	88.3	88.2	88.2	88.1	88.0	87.9	87.8	87.7	87.5	87.4	87.3	87.2	87.1	86.9	86.8	86.7	86.6	86.4	86.4	86.2	86.0	85.7	85.4	85.1	84.7	84.4	84.0	83.7	83.4	83.1	82.8	82.5	82.2	81.9	81.6	81.4	81.1	80.9	80.7	80.5
                              40.4	81.4	84.4	85.3	85.6	85.8	85.8	85.8	85.8	85.7	85.6	85.5	85.3	85.2	85.1	84.9	84.8	84.6	84.5	84.3	84.2	84.0	83.8	83.7	83.5	83.4	83.2	83.0	82.9	82.8	82.6	82.3	82.0	81.6	81.2	80.8	80.4	80.0	79.6	79.2	78.8	78.4	78.1	77.7	77.4	77.1	76.8	76.5	76.2	76.0	75.7
                              40.4	78.9	80.6	81.0	81.1	81.1	81.0	80.8	80.7	80.5	80.3	80.1	79.9	79.7	79.5	79.3	79.1	78.9	78.6	78.4	78.2	78.0	77.8	77.6	77.4	77.1	76.9	76.7	76.5	76.4	76.1	75.8	75.3	74.9	74.4	73.9	73.4	72.8	72.3	71.9	71.4	70.9	70.5	70.1	69.7	69.3	69.0	68.6	68.3	68.0	67.7
                              40.4	69.2	69.6	69.5	69.3	69.0	68.7	68.4	68.1	67.8	67.5	67.2	66.9	66.6	66.2	65.9	65.6	65.3	65.0	64.7	64.4	64.1	63.8	63.5	63.2	62.9	62.6	62.4	62.1	61.9	61.6	61.1	60.6	60.0	59.3	58.7	58.0	57.4	56.8	56.2	55.6	55.1	54.6	54.1	53.6	53.2	52.7	52.3	51.9	51.6	51.2
                              40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4	40.4]; % consider motor and inverter already
mot.plant.init.eff_trq.map = rot90(mot.plant.init.eff_trq.map,-1);
